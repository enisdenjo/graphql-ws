diff --git a/dist/cli.mjs b/dist/cli.mjs
index e4bce4ee402fbf6fbcec9ad08a1bb031904e8a0c..681e689594a223e062a3a81f0e291ca4274d6de5 100755
--- a/dist/cli.mjs
+++ b/dist/cli.mjs
@@ -26,4 +26,4 @@ var ze=Object.defineProperty;var a=(u,e)=>ze(u,"name",{value:e,configurable:!0})
 `+" ".repeat(e)),new Array(z).fill(0).map((u,e)=>"\r"+" ".repeat(e)),new Array(z).fill(0).map((u,e)=>`\r
 `+" ".repeat(e)),new Array(z).fill(0).map((u,e)=>`
 `+"	".repeat(e)),new Array(z).fill(0).map((u,e)=>"\r"+"	".repeat(e)),new Array(z).fill(0).map((u,e)=>`\r
-`+"	".repeat(e));var ou;(function(u){u.DEFAULT={allowTrailingComma:!1}})(ou||(ou={}));function ye(u,e=[],D=ou.DEFAULT){let t=null,n=[];const r=[];function o(s){Array.isArray(n)?n.push(s):t!==null&&(n[t]=s)}return a(o,"u"),p(o,"onValue"),Ae(u,{onObjectBegin:p(()=>{const s={};o(s),r.push(n),n=s,t=null},"onObjectBegin"),onObjectProperty:p(s=>{t=s},"onObjectProperty"),onObjectEnd:p(()=>{n=r.pop()},"onObjectEnd"),onArrayBegin:p(()=>{const s=[];o(s),r.push(n),n=s,t=null},"onArrayBegin"),onArrayEnd:p(()=>{n=r.pop()},"onArrayEnd"),onLiteralValue:o,onError:p((s,i,l)=>{e.push({error:s,offset:i,length:l})},"onError")},D),n[0]}a(ye,"ye"),p(ye,"parse$1");function Ae(u,e,D=ou.DEFAULT){const t=ge(u,!1),n=[];function r(y){return y?()=>y(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}a(r,"i"),p(r,"toNoArgVisit");function o(y){return y?()=>y(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>n.slice()):()=>!0}a(o,"u"),p(o,"toNoArgVisitWithPath");function s(y){return y?v=>y(v,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}a(s,"f"),p(s,"toOneArgVisit");function i(y){return y?v=>y(v,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>n.slice()):()=>!0}a(i,"r"),p(i,"toOneArgVisitWithPath");const l=o(e.onObjectBegin),c=i(e.onObjectProperty),f=r(e.onObjectEnd),F=o(e.onArrayBegin),E=r(e.onArrayEnd),C=i(e.onLiteralValue),h=s(e.onSeparator),b=r(e.onComment),O=s(e.onError),A=D&&D.disallowComments,d=D&&D.allowTrailingComma;function B(){for(;;){const y=t.scan();switch(t.getTokenError()){case 4:g(14);break;case 5:g(15);break;case 3:g(13);break;case 1:A||g(11);break;case 2:g(12);break;case 6:g(16);break}switch(y){case 12:case 13:A?g(10):b();break;case 16:g(1);break;case 15:case 14:break;default:return y}}}a(B,"k"),p(B,"scanNext");function g(y,v=[],Wu=[]){if(O(y),v.length+Wu.length>0){let Q=t.getToken();for(;Q!==17;){if(v.indexOf(Q)!==-1){B();break}else if(Wu.indexOf(Q)!==-1)break;Q=B()}}}a(g,"p"),p(g,"handleError");function w(y){const v=t.getTokenValue();return y?C(v):(c(v),n.push(v)),B(),!0}a(w,"F"),p(w,"parseString");function x(){switch(t.getToken()){case 11:const y=t.getTokenValue();let v=Number(y);isNaN(v)&&(g(2),v=0),C(v);break;case 7:C(null);break;case 8:C(!0);break;case 9:C(!1);break;default:return!1}return B(),!0}a(x,"j"),p(x,"parseLiteral");function Ru(){return t.getToken()!==10?(g(3,[],[2,5]),!1):(w(!1),t.getToken()===6?(h(":"),B(),Y()||g(4,[],[2,5])):g(5,[],[2,5]),n.pop(),!0)}a(Ru,"a"),p(Ru,"parseProperty");function Lu(){l(),B();let y=!1;for(;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(y||g(4,[],[]),h(","),B(),t.getToken()===2&&d)break}else y&&g(6,[],[]);Ru()||g(4,[],[2,5]),y=!0}return f(),t.getToken()!==2?g(7,[2],[]):B(),!0}a(Lu,"N"),p(Lu,"parseObject");function Mu(){F(),B();let y=!0,v=!1;for(;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(v||g(4,[],[]),h(","),B(),t.getToken()===4&&d)break}else v&&g(6,[],[]);y?(n.push(0),y=!1):n[n.length-1]++,Y()||g(4,[],[4,5]),v=!0}return E(),y||n.pop(),t.getToken()!==4?g(8,[4],[]):B(),!0}a(Mu,"be"),p(Mu,"parseArray");function Y(){switch(t.getToken()){case 3:return Mu();case 1:return Lu();case 10:return w(!0);default:return x()}}return a(Y,"J"),p(Y,"parseValue"),B(),t.getToken()===17?D.allowEmptyContent?!0:(g(4,[],[]),!1):Y()?(t.getToken()!==17&&g(9,[],[]),!0):(g(4,[],[]),!1)}a(Ae,"Fe"),p(Ae,"visit");var be;(function(u){u[u.None=0]="None",u[u.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=2]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",u[u.InvalidUnicode=4]="InvalidUnicode",u[u.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",u[u.InvalidCharacter=6]="InvalidCharacter"})(be||(be={}));var we;(function(u){u[u.OpenBraceToken=1]="OpenBraceToken",u[u.CloseBraceToken=2]="CloseBraceToken",u[u.OpenBracketToken=3]="OpenBracketToken",u[u.CloseBracketToken=4]="CloseBracketToken",u[u.CommaToken=5]="CommaToken",u[u.ColonToken=6]="ColonToken",u[u.NullKeyword=7]="NullKeyword",u[u.TrueKeyword=8]="TrueKeyword",u[u.FalseKeyword=9]="FalseKeyword",u[u.StringLiteral=10]="StringLiteral",u[u.NumericLiteral=11]="NumericLiteral",u[u.LineCommentTrivia=12]="LineCommentTrivia",u[u.BlockCommentTrivia=13]="BlockCommentTrivia",u[u.LineBreakTrivia=14]="LineBreakTrivia",u[u.Trivia=15]="Trivia",u[u.Unknown=16]="Unknown",u[u.EOF=17]="EOF"})(we||(we={}));const un=ye;var ve;(function(u){u[u.InvalidSymbol=1]="InvalidSymbol",u[u.InvalidNumberFormat=2]="InvalidNumberFormat",u[u.PropertyNameExpected=3]="PropertyNameExpected",u[u.ValueExpected=4]="ValueExpected",u[u.ColonExpected=5]="ColonExpected",u[u.CommaExpected=6]="CommaExpected",u[u.CloseBraceExpected=7]="CloseBraceExpected",u[u.CloseBracketExpected=8]="CloseBracketExpected",u[u.EndOfFileExpected=9]="EndOfFileExpected",u[u.InvalidCommentToken=10]="InvalidCommentToken",u[u.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=12]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",u[u.InvalidUnicode=14]="InvalidUnicode",u[u.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",u[u.InvalidCharacter=16]="InvalidCharacter"})(ve||(ve={}));const $e=p((u,e)=>un(XD(e,u,"utf8")),"readJsonc"),ju=Symbol("implicitBaseUrl"),I="${configDir}",en=p(()=>{const{findPnpApi:u}=ut;return u&&u(process.cwd())},"getPnpApi"),Ou=p((u,e,D,t)=>{const n=`resolveFromPackageJsonPath:${u}:${e}:${D}`;if(t!=null&&t.has(n))return t.get(n);const r=$e(u,t);if(!r)return;let o=e||"tsconfig.json";if(!D&&r.exports)try{const[s]=YD(r.exports,e,["require","types"]);o=s}catch{return!1}else!e&&r.tsconfig&&(o=r.tsconfig);return o=m.join(u,"..",o),t?.set(n,o),o},"resolveFromPackageJsonPath"),Tu="package.json",Su="tsconfig.json",tn=p((u,e,D)=>{let t=u;if(u===".."&&(t=m.join(t,Su)),u[0]==="."&&(t=m.resolve(e,t)),m.isAbsolute(t)){if(T(D,t)){if(nu(D,t).isFile())return t}else if(!t.endsWith(".json")){const E=`${t}.json`;if(T(D,E))return E}return}const[n,...r]=u.split("/"),o=n[0]==="@"?`${n}/${r.shift()}`:n,s=r.join("/"),i=en();if(i){const{resolveRequest:E}=i;try{if(o===u){const C=E(m.join(o,Tu),e);if(C){const h=Ou(C,s,!1,D);if(h&&T(D,h))return h}}else{let C;try{C=E(u,e,{extensions:[".json"]})}catch{C=E(m.join(u,Su),e)}if(C)return C}}catch{}}const l=me(m.resolve(e),m.join("node_modules",o),D);if(!l||!nu(D,l).isDirectory())return;const c=m.join(l,Tu);if(T(D,c)){const E=Ou(c,s,!1,D);if(E===!1)return;if(E&&T(D,E)&&nu(D,E).isFile())return E}const f=m.join(l,s),F=f.endsWith(".json");if(!F){const E=`${f}.json`;if(T(D,E))return E}if(T(D,f)){if(nu(D,f).isDirectory()){const E=m.join(f,Tu);if(T(D,E)){const h=Ou(E,"",!0,D);if(h&&T(D,h))return h}const C=m.join(f,Su);if(T(D,C))return C}else if(F)return f}},"resolveExtendsPath"),Pu=p((u,e)=>ku(m.relative(u,e)),"pathRelative"),xe=["files","include","exclude"],Dn=p((u,e,D,t)=>{const n=tn(u,e,t);if(!n)throw new Error(`File '${u}' not found.`);if(D.has(n))throw new Error(`Circularity detected while resolving configuration: ${n}`);D.add(n);const r=m.dirname(n),o=ke(n,t,D);delete o.references;const{compilerOptions:s}=o;if(s){const{baseUrl:i}=s;i&&!i.startsWith(I)&&(s.baseUrl=j(m.relative(e,m.join(r,i)))||"./");let{outDir:l}=s;l&&(l.startsWith(I)||(l=m.relative(e,m.join(r,l))),s.outDir=j(l)||"./")}for(const i of xe){const l=o[i];l&&(o[i]=l.map(c=>c.startsWith(I)?c:j(m.relative(e,m.join(r,c)))))}return o},"resolveExtends"),nn=["outDir","declarationDir"],ke=p((u,e,D=new Set)=>{let t;try{t=$e(u,e)||{}}catch{throw new Error(`Cannot resolve tsconfig at path: ${u}`)}if(typeof t!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${u}`);const n=m.dirname(u);if(t.compilerOptions){const{compilerOptions:r}=t;r.paths&&!r.baseUrl&&(r[ju]=n)}if(t.extends){const r=Array.isArray(t.extends)?t.extends:[t.extends];delete t.extends;for(const o of r.reverse()){const s=Dn(o,n,new Set(D),e),i={...s,...t,compilerOptions:{...s.compilerOptions,...t.compilerOptions}};s.watchOptions&&(i.watchOptions={...s.watchOptions,...t.watchOptions}),t=i}}if(t.compilerOptions){const{compilerOptions:r}=t,o=["baseUrl","rootDir"];for(const s of o){const i=r[s];if(i&&!i.startsWith(I)){const l=m.resolve(n,i),c=Pu(n,l);r[s]=c}}for(const s of nn){let i=r[s];i&&(Array.isArray(t.exclude)||(t.exclude=[]),t.exclude.includes(i)||t.exclude.push(i),i.startsWith(I)||(i=ku(i)),r[s]=i)}}else t.compilerOptions={};if(t.include?(t.include=t.include.map(j),t.files&&delete t.files):t.files&&(t.files=t.files.map(r=>r.startsWith(I)?r:ku(r))),t.watchOptions){const{watchOptions:r}=t;r.excludeDirectories&&(r.excludeDirectories=r.excludeDirectories.map(o=>j(m.resolve(n,o))))}return t},"_parseTsconfig"),su=p((u,e)=>{if(u.startsWith(I))return j(m.join(e,u.slice(I.length)))},"interpolateConfigDir"),rn=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],on=p(u=>{if(u.strict){const e=["noImplicitAny","noImplicitThis","strictNullChecks","strictFunctionTypes","strictBindCallApply","strictPropertyInitialization","strictBuiltinIteratorReturn","alwaysStrict","useUnknownInCatchVariables"];for(const D of e)u[D]===void 0&&(u[D]=!0)}if(u.target){let e=u.target.toLowerCase();e==="es2015"&&(e="es6"),u.target=e,e==="esnext"&&(u.module!=null||(u.module="es6"),u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0)),(e==="es6"||e==="es2016"||e==="es2017"||e==="es2018"||e==="es2019"||e==="es2020"||e==="es2021"||e==="es2022"||e==="es2023"||e==="es2024")&&(u.module!=null||(u.module="es6")),(e==="es2022"||e==="es2023"||e==="es2024")&&(u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0))}if(u.module){let e=u.module.toLowerCase();e==="es2015"&&(e="es6"),u.module=e,(e==="es6"||e==="es2020"||e==="es2022"||e==="esnext"||e==="none"||e==="system"||e==="umd"||e==="amd")&&(u.moduleResolution!=null||(u.moduleResolution="classic")),e==="system"&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),(e==="node16"||e==="nodenext"||e==="preserve")&&(u.esModuleInterop!=null||(u.esModuleInterop=!0),u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),(e==="node16"||e==="nodenext")&&(u.moduleDetection!=null||(u.moduleDetection="force"),u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0)),e==="node16"&&(u.target!=null||(u.target="es2022"),u.moduleResolution!=null||(u.moduleResolution="node16")),e==="nodenext"&&(u.target!=null||(u.target="esnext"),u.moduleResolution!=null||(u.moduleResolution="nodenext")),e==="preserve"&&(u.moduleResolution!=null||(u.moduleResolution="bundler"))}if(u.moduleResolution){let e=u.moduleResolution.toLowerCase();e==="node"&&(e="node10"),u.moduleResolution=e,(e==="node16"||e==="nodenext"||e==="bundler")&&(u.resolvePackageJsonExports!=null||(u.resolvePackageJsonExports=!0),u.resolvePackageJsonImports!=null||(u.resolvePackageJsonImports=!0)),e==="bundler"&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0),u.resolveJsonModule!=null||(u.resolveJsonModule=!0))}u.esModuleInterop&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),u.verbatimModuleSyntax&&(u.isolatedModules!=null||(u.isolatedModules=!0),u.preserveConstEnums!=null||(u.preserveConstEnums=!0)),u.isolatedModules&&(u.preserveConstEnums!=null||(u.preserveConstEnums=!0))},"normalizeCompilerOptions"),je=p((u,e=new Map)=>{const D=m.resolve(u),t=ke(D,e),n=m.dirname(D),{compilerOptions:r}=t;if(r){for(const s of rn){const i=r[s];if(i){const l=su(i,n);r[s]=l?Pu(n,l):i}}for(const s of["rootDirs","typeRoots"]){const i=r[s];i&&(r[s]=i.map(l=>{const c=su(l,n);return c?Pu(n,c):l}))}const{paths:o}=r;if(o)for(const s of Object.keys(o))o[s]=o[s].map(i=>{var l;return(l=su(i,n))!=null?l:i});on(r)}for(const o of xe){const s=t[o];s&&(t[o]=s.map(i=>{var l;return(l=su(i,n))!=null?l:i}))}return t},"parseTsconfig"),sn=p((u=process.cwd(),e="tsconfig.json",D=new Map)=>{const t=me(j(u),e,D);if(!t)return null;const n=je(t,D);return{path:t,config:n}},"getTsconfig"),an=/\*/g,Oe=p((u,e)=>{const D=u.match(an);if(D&&D.length>1)throw new Error(e)},"assertStarCount"),ln=p(u=>{if(u.includes("*")){const[e,D]=u.split("*");return{prefix:e,suffix:D}}return u},"parsePattern"),cn=p(({prefix:u,suffix:e},D)=>D.startsWith(u)&&D.endsWith(e),"isPatternMatch"),fn=p((u,e,D)=>Object.entries(u).map(([t,n])=>(Oe(t,`Pattern '${t}' can have at most one '*' character.`),{pattern:ln(t),substitutions:n.map(r=>{if(Oe(r,`Substitution '${r}' in pattern '${t}' can have at most one '*' character.`),!e&&!xu.test(r))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return m.resolve(D,r)})})),"parsePaths"),Fn=p(u=>{const{compilerOptions:e}=u.config;if(!e)return null;const{baseUrl:D,paths:t}=e;if(!D&&!t)return null;const n=ju in e&&e[ju],r=m.resolve(m.dirname(u.path),D||n||"."),o=t?fn(t,D,r):[];return s=>{if(xu.test(s))return[];const i=[];for(const F of o){if(F.pattern===s)return F.substitutions.map(j);typeof F.pattern!="string"&&i.push(F)}let l,c=-1;for(const F of i)cn(F.pattern,s)&&F.pattern.prefix.length>c&&(c=F.pattern.prefix.length,l=F);if(!l)return D?[j(m.join(r,s))]:[];const f=s.slice(l.pattern.prefix.length,s.length-l.pattern.suffix.length);return l.substitutions.map(F=>j(F.replace("*",f)))}},"createPathsMatcher"),Te=p(u=>{let e="";for(let D=0;D<u.length;D+=1){const t=u[D],n=t.toUpperCase();e+=t===n?t.toLowerCase():n}return e},"s"),pn=65,Cn=97,dn=p(()=>Math.floor(Math.random()*26),"m"),En=p(u=>Array.from({length:u},()=>String.fromCodePoint(dn()+(Math.random()>.5?pn:Cn))).join(""),"S"),hn=p((u=tt)=>{const e=process.execPath;if(u.existsSync(e))return!u.existsSync(Te(e));const D=`/${En(10)}`;u.writeFileSync(D,"");const t=!u.existsSync(Te(D));return u.unlinkSync(D),t},"l"),{join:iu}=m.posix,_u={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},mn=p(u=>{const e=[..._u.ts],D=[..._u.cts],t=[..._u.mts];return u!=null&&u.allowJs&&(e.push(".js",".jsx"),D.push(".cjs"),t.push(".mjs")),[...e,...D,...t]},"getSupportedExtensions"),gn=p(u=>{const e=[];if(!u)return e;const{outDir:D,declarationDir:t}=u;return D&&e.push(D),t&&e.push(t),e},"getDefaultExcludeSpec"),Se=p(u=>u.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),Bn=["node_modules","bower_components","jspm_packages"],Nu=`(?!(${Bn.join("|")})(/|$))`,yn=/(?:^|\/)[^.*?]+$/,Pe="**/*",au="[^/]",Iu="[^./]",_e=process.platform==="win32";p(({config:u,path:e},D=hn())=>{if("extends"in u)throw new Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!m.isAbsolute(e))throw new Error("The tsconfig path must be absolute");_e&&(e=j(e));const t=m.dirname(e),{files:n,include:r,exclude:o,compilerOptions:s}=u,i=n?.map(C=>iu(t,C)),l=mn(s),c=D?"":"i",f=(o||gn(s)).map(C=>{const h=iu(t,C),b=Se(h).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${au}*`).replaceAll(String.raw`\?`,au);return new RegExp(`^${b}($|/)`,c)}),F=n||r?r:[Pe],E=F?F.map(C=>{let h=iu(t,C);yn.test(h)&&(h=iu(h,Pe));const b=Se(h).replaceAll(String.raw`/\*\*`,`(/${Nu}${Iu}${au}*)*?`).replaceAll(/(\/)?\\\*/g,(O,A)=>{const d=`(${Iu}|(\\.(?!min\\.js$))?)*`;return A?`/${Nu}${Iu}${d}`:d}).replaceAll(/(\/)?\\\?/g,(O,A)=>{const d=au;return A?`/${Nu}${d}`:d});return new RegExp(`^${b}$`,c)}):void 0;return C=>{if(!m.isAbsolute(C))throw new Error("filePath must be absolute");if(_e&&(C=j(C)),i!=null&&i.includes(C)||!(!l.some(h=>C.endsWith(h))||f.some(h=>h.test(C)))&&E&&E.some(h=>h.test(C)))return u}},"createFilesMatcher");const Ne="resolve-tsconfig-paths",An=a(u=>u[0]===".","isRelative"),bn=a(u=>u[0]==="/"||/^[\s\S]:/.test(u),"isAbsolute"),Ie=a(u=>{const e=Fn(u);return e?{name:Ne,async resolveId(D,t,n){if(!t||An(D)||bn(D)||D.startsWith("\0"))return null;const r=e(D);for(const o of r){const s=await this.resolve(o,t,{skipSelf:!0,...n});if(s)return s}return null}}:{name:Ne}},"resolveTsconfigPaths"),Re=/^#!.*/,wn=a(()=>({name:"strip-hashbang",transform:a(u=>{if(!Re.test(u))return null;const e=new cu(u);return e.replace(Re,""),{code:e.toString(),map:e.generateMap({hires:!0})}},"transform")}),"stripHashbang");class vn{static{a(this,"WalkerBase")}constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:a(()=>this.should_skip=!0,"skip"),remove:a(()=>this.should_remove=!0,"remove"),replace:a(e=>this.replacement=e,"replace")}}replace(e,D,t,n){e&&D&&(t!=null?e[D][t]=n:e[D]=n)}remove(e,D,t){e&&D&&(t!=null?e[D].splice(t,1):delete e[D])}}class $n extends vn{static{a(this,"SyncWalker")}constructor(e,D){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:a(()=>this.should_skip=!0,"skip"),remove:a(()=>this.should_remove=!0,"remove"),replace:a(t=>this.replacement=t,"replace")},this.enter=e,this.leave=D}visit(e,D,t,n){if(e){if(this.enter){const o=this.should_skip,s=this.should_remove,i=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,D,t,n),this.replacement&&(e=this.replacement,this.replace(D,t,n,e)),this.should_remove&&this.remove(D,t,n);const l=this.should_skip,c=this.should_remove;if(this.should_skip=o,this.should_remove=s,this.replacement=i,l)return e;if(c)return null}let r;for(r in e){const o=e[r];if(o&&typeof o=="object")if(Array.isArray(o)){const s=o;for(let i=0;i<s.length;i+=1){const l=s[i];Le(l)&&(this.visit(l,e,r,i)||i--)}}else Le(o)&&this.visit(o,e,r,null)}if(this.leave){const o=this.replacement,s=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,D,t,n),this.replacement&&(e=this.replacement,this.replace(D,t,n,e)),this.should_remove&&this.remove(D,t,n);const i=this.should_remove;if(this.replacement=o,this.should_remove=s,i)return null}}return e}}function Le(u){return u!==null&&typeof u=="object"&&"type"in u&&typeof u.type=="string"}a(Le,"isNode");function xn(u,{enter:e,leave:D}){return new $n(e,D).visit(u,null)}a(xn,"walk");const kn=a(()=>{const u='import{createRequire as _pkgrollCR}from"node:module";const require=_pkgrollCR(import.meta.url);';return{name:"esmInjectCreateRequire",renderChunk(e,D,t){if(t.format!=="es"||!/\brequire\b/.test(e))return null;const n=this.parse(e);let r=Dt(n,"scope"),o=!1;if(xn(n,{enter(i,l){i.scope&&(r=i.scope),!(i.type!=="Identifier"||i.name!=="require")&&(l?.type==="Property"&&l.key===i&&!l.compute||r.contains("require")||(o=!0,this.skip()))},leave:a(i=>{i.scope&&(r=r.parent)},"leave")}),!o)return null;const s=new cu(e);return s.prepend(u),{code:s.toString(),map:s.generateMap({hires:!0})}}}},"esmInjectCreateRequire"),jn=a((u,e,D,t)=>{const n=Object.fromEntries(u.env.map(({key:o,value:s})=>[`process.env.${o}`,JSON.stringify(s)])),r={target:u.target,tsconfigRaw:t?.config,define:n};return{input:{},preserveEntrySignatures:"strict",plugins:[pe(u),...t?[Ie(t)]:[],Ce(),Ye({entries:e}),Ke({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:u.exportCondition}),wn(),Ze(),LD(r),He({ignoreDynamicRequires:!0,extensions:[".js",".ts",".jsx",".tsx"],transformMixedEsModules:!0}),Qe({warnOnError:!0}),kn(),...u.minify?[WD(r)]:[],UD(D)],output:[],external:[]}},"getPkgConfig"),On=a(async(u,e)=>{const[D,t]=await Promise.all([import("./rollup-plugin-dts-DuaETUxB.mjs"),import("./local-typescript-loader-CSvrvK-x.mjs")]);return{input:{},preserveEntrySignatures:"strict",plugins:[pe(u),...e?[Ie(e)]:[],Ce(),D.default({respectExternal:!0,compilerOptions:{composite:!1,preserveSymlinks:!1,module:t.default.ModuleKind.Preserve,moduleResolution:t.default.ModuleResolutionKind.Bundler},tsconfig:e?.path})],output:[],external:[]}},"getDtsConfig"),Tn=a(u=>{if(u.length===0)return"";const e=u.map(r=>r.split("/")),D=e[0],t=Math.min(...e.map(r=>r.length)),n=[];for(let r=0;r<t;r+=1){const o=D[r];if(e.every(s=>s[r]===o))n.push(o);else break}return n.length===0?"/":n.join("/")||"/"},"getCommonPath"),Sn=a(async(u,e,D,t,n,r)=>{const o=$(Tn(u.map(({dist:i})=>i)),!0);for(const i of u)i.distPrefix=i.dist.slice(o.length);const s=Object.create(null);for(const i of e){const{sourcePath:l,srcdist:c,srcExtension:f,distExtension:F,exportEntry:E}=i,C=c.distPrefix+l.slice(c.srcResolved.length,-f.length);if(i.inputNames=[C],E.format==="types"){let A=s.dts;A||(A=await On(D,r),A.external=Fe(n,t,!0),s.dts=A),A.input[C]||(A.input[C]=l);const d=A.output,B=`${c.distPrefix}-${F}`;if(d[B])d[B][K].inputNames.push(C);else{const g={dir:o,entryFileNames:`[name]${F}`,chunkFileNames:`${c.distPrefix}[name]-[hash]${F}`,exports:"auto",format:"esm",[K]:i};d.push(g),d[B]=g}continue}let h=s.pkg;h||(h=jn(D,t,e,r),h.external=Fe(n,t),s.pkg=h),h.input[C]||(h.input[C]=l);const b=h.output,O=`${E.format}-${c.distPrefix}-${F}`;if(b[O])b[O][K].inputNames.push(C);else{const A={dir:o,exports:"auto",format:E.format,sourcemap:D.sourcemap,entryFileNames:`[name]${F}`,chunkFileNames:`${c.distPrefix}[name]-[hash]${F}`,[K]:i};b.push(A),b[O]=A}}return Object.values(s)},"getRollupConfigs"),Pn=a(u=>{if(!u)return sn();const e=m.resolve(u),D=je(e);return{path:e,config:D}},"getTsconfig"),_n=a(async u=>{await mu(u)&&await N.promises.rm(u,{recursive:!0,force:!0})},"cleanDist"),{stringify:Me}=JSON,S=yD({name:"pkgroll",version:AD,flags:{input:{type:[jD],alias:"i",description:"Dist paths for source files to bundle (Only use if you cannot use package.json entries)"},src:{type:String,description:"Source directory (Deprecated, use `srcdist` instead)",default:"./src"},dist:{type:String,description:"Distribution directory (Deprecated, use `srcdist` instead)",default:"./dist"},srcdist:{type:[String],description:"Source and distribution folder pairs (eg. default `src:dist`)"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},tsconfig:{type:String,description:"Custom tsconfig.json file path",alias:"p"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[u=>{const[e,D]=u.split("=",2);return{key:e,value:D}}],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"},sourcemap:{type:a(u=>{if(u==="")return!0;if(u==="inline")return u;throw new Error(`Invalid sourcemap option ${Me(u)}`)},"type"),description:"Sourcemap generation. Provide `inline` option for inline sourcemap (eg. --sourcemap, --sourcemap=inline)"},cleanDist:{type:Boolean,description:"Clean dist before bundling",default:!1}},help:{description:"Minimalistic package bundler",render:a((u,e)=>(e.flagOperator=D=>D.name==="env"?".key=":" ",e.render(u)),"render")}}),We=process.cwd(),Z=[];if(S.flags.srcdist.length>0)for(const u of S.flags.srcdist){const[e,D]=u.split(":",2);if(!e||!D)throw new Error(`Invalid src:dist pair ${Me(u)}. Expected format: src:dist`);Z.push({src:$(e,!0),srcResolved:$(N.realpathSync.native(e),!0),dist:$(D,!0)})}else Z.push({src:$(S.flags.src,!0),srcResolved:$(N.realpathSync.native(S.flags.src),!0),dist:$(S.flags.dist,!0)});const Ue=Pn(S.flags.tsconfig),Ve=Ue?.config.compilerOptions?.target;Ve&&S.flags.target.push(Ve),(async()=>{const{packageJson:u}=await kD(We),e=await ID(Z,u,S.flags.input);for(const n of e)"error"in n&&console.warn("Warning:",n.error);const D=e.filter(n=>!("error"in n));if(D.length===0)throw new Error("No entry points found");const t=await Sn(Z,D,S.flags,OD(u,We),u,Ue);S.flags.cleanDist&&await Promise.all(Z.map(({dist:n})=>_n(n))),S.flags.watch?(Du("Watch initialized"),t.map(async n=>{Je(n).on("event",async o=>{if(o.code==="BUNDLE_START"){const s=Array.isArray(o.input)?o.input:Object.values(o.input);Du("Building",...s.map(gu))}if(o.code==="BUNDLE_END"){await Promise.all(n.output.map(i=>o.result.write(i)));const s=Array.isArray(o.input)?o.input:Object.values(o.input);Du("Built",...s.map(gu))}o.code==="ERROR"&&Du("Error:",o.error.message)})})):await Promise.all(t.map(async n=>{const r=await Ge(n);return Promise.all(n.output.map(o=>{const s=o[K].inputNames;return o.plugins=[{name:"filter-unnecessary-outputs",generateBundle:a((i,l)=>{for(const c in l){if(!Object.hasOwn(l,c))continue;const f=l[c];"isEntry"in f&&f.isEntry&&!s.includes(f.name)&&delete l[c]}},"generateBundle")}],r.write(o)}))}))})().catch(u=>{console.error(u),process.exit(1)});
+`+"	".repeat(e));var ou;(function(u){u.DEFAULT={allowTrailingComma:!1}})(ou||(ou={}));function ye(u,e=[],D=ou.DEFAULT){let t=null,n=[];const r=[];function o(s){Array.isArray(n)?n.push(s):t!==null&&(n[t]=s)}return a(o,"u"),p(o,"onValue"),Ae(u,{onObjectBegin:p(()=>{const s={};o(s),r.push(n),n=s,t=null},"onObjectBegin"),onObjectProperty:p(s=>{t=s},"onObjectProperty"),onObjectEnd:p(()=>{n=r.pop()},"onObjectEnd"),onArrayBegin:p(()=>{const s=[];o(s),r.push(n),n=s,t=null},"onArrayBegin"),onArrayEnd:p(()=>{n=r.pop()},"onArrayEnd"),onLiteralValue:o,onError:p((s,i,l)=>{e.push({error:s,offset:i,length:l})},"onError")},D),n[0]}a(ye,"ye"),p(ye,"parse$1");function Ae(u,e,D=ou.DEFAULT){const t=ge(u,!1),n=[];function r(y){return y?()=>y(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}a(r,"i"),p(r,"toNoArgVisit");function o(y){return y?()=>y(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>n.slice()):()=>!0}a(o,"u"),p(o,"toNoArgVisitWithPath");function s(y){return y?v=>y(v,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}a(s,"f"),p(s,"toOneArgVisit");function i(y){return y?v=>y(v,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>n.slice()):()=>!0}a(i,"r"),p(i,"toOneArgVisitWithPath");const l=o(e.onObjectBegin),c=i(e.onObjectProperty),f=r(e.onObjectEnd),F=o(e.onArrayBegin),E=r(e.onArrayEnd),C=i(e.onLiteralValue),h=s(e.onSeparator),b=r(e.onComment),O=s(e.onError),A=D&&D.disallowComments,d=D&&D.allowTrailingComma;function B(){for(;;){const y=t.scan();switch(t.getTokenError()){case 4:g(14);break;case 5:g(15);break;case 3:g(13);break;case 1:A||g(11);break;case 2:g(12);break;case 6:g(16);break}switch(y){case 12:case 13:A?g(10):b();break;case 16:g(1);break;case 15:case 14:break;default:return y}}}a(B,"k"),p(B,"scanNext");function g(y,v=[],Wu=[]){if(O(y),v.length+Wu.length>0){let Q=t.getToken();for(;Q!==17;){if(v.indexOf(Q)!==-1){B();break}else if(Wu.indexOf(Q)!==-1)break;Q=B()}}}a(g,"p"),p(g,"handleError");function w(y){const v=t.getTokenValue();return y?C(v):(c(v),n.push(v)),B(),!0}a(w,"F"),p(w,"parseString");function x(){switch(t.getToken()){case 11:const y=t.getTokenValue();let v=Number(y);isNaN(v)&&(g(2),v=0),C(v);break;case 7:C(null);break;case 8:C(!0);break;case 9:C(!1);break;default:return!1}return B(),!0}a(x,"j"),p(x,"parseLiteral");function Ru(){return t.getToken()!==10?(g(3,[],[2,5]),!1):(w(!1),t.getToken()===6?(h(":"),B(),Y()||g(4,[],[2,5])):g(5,[],[2,5]),n.pop(),!0)}a(Ru,"a"),p(Ru,"parseProperty");function Lu(){l(),B();let y=!1;for(;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(y||g(4,[],[]),h(","),B(),t.getToken()===2&&d)break}else y&&g(6,[],[]);Ru()||g(4,[],[2,5]),y=!0}return f(),t.getToken()!==2?g(7,[2],[]):B(),!0}a(Lu,"N"),p(Lu,"parseObject");function Mu(){F(),B();let y=!0,v=!1;for(;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(v||g(4,[],[]),h(","),B(),t.getToken()===4&&d)break}else v&&g(6,[],[]);y?(n.push(0),y=!1):n[n.length-1]++,Y()||g(4,[],[4,5]),v=!0}return E(),y||n.pop(),t.getToken()!==4?g(8,[4],[]):B(),!0}a(Mu,"be"),p(Mu,"parseArray");function Y(){switch(t.getToken()){case 3:return Mu();case 1:return Lu();case 10:return w(!0);default:return x()}}return a(Y,"J"),p(Y,"parseValue"),B(),t.getToken()===17?D.allowEmptyContent?!0:(g(4,[],[]),!1):Y()?(t.getToken()!==17&&g(9,[],[]),!0):(g(4,[],[]),!1)}a(Ae,"Fe"),p(Ae,"visit");var be;(function(u){u[u.None=0]="None",u[u.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=2]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",u[u.InvalidUnicode=4]="InvalidUnicode",u[u.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",u[u.InvalidCharacter=6]="InvalidCharacter"})(be||(be={}));var we;(function(u){u[u.OpenBraceToken=1]="OpenBraceToken",u[u.CloseBraceToken=2]="CloseBraceToken",u[u.OpenBracketToken=3]="OpenBracketToken",u[u.CloseBracketToken=4]="CloseBracketToken",u[u.CommaToken=5]="CommaToken",u[u.ColonToken=6]="ColonToken",u[u.NullKeyword=7]="NullKeyword",u[u.TrueKeyword=8]="TrueKeyword",u[u.FalseKeyword=9]="FalseKeyword",u[u.StringLiteral=10]="StringLiteral",u[u.NumericLiteral=11]="NumericLiteral",u[u.LineCommentTrivia=12]="LineCommentTrivia",u[u.BlockCommentTrivia=13]="BlockCommentTrivia",u[u.LineBreakTrivia=14]="LineBreakTrivia",u[u.Trivia=15]="Trivia",u[u.Unknown=16]="Unknown",u[u.EOF=17]="EOF"})(we||(we={}));const un=ye;var ve;(function(u){u[u.InvalidSymbol=1]="InvalidSymbol",u[u.InvalidNumberFormat=2]="InvalidNumberFormat",u[u.PropertyNameExpected=3]="PropertyNameExpected",u[u.ValueExpected=4]="ValueExpected",u[u.ColonExpected=5]="ColonExpected",u[u.CommaExpected=6]="CommaExpected",u[u.CloseBraceExpected=7]="CloseBraceExpected",u[u.CloseBracketExpected=8]="CloseBracketExpected",u[u.EndOfFileExpected=9]="EndOfFileExpected",u[u.InvalidCommentToken=10]="InvalidCommentToken",u[u.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=12]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",u[u.InvalidUnicode=14]="InvalidUnicode",u[u.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",u[u.InvalidCharacter=16]="InvalidCharacter"})(ve||(ve={}));const $e=p((u,e)=>un(XD(e,u,"utf8")),"readJsonc"),ju=Symbol("implicitBaseUrl"),I="${configDir}",en=p(()=>{const{findPnpApi:u}=ut;return u&&u(process.cwd())},"getPnpApi"),Ou=p((u,e,D,t)=>{const n=`resolveFromPackageJsonPath:${u}:${e}:${D}`;if(t!=null&&t.has(n))return t.get(n);const r=$e(u,t);if(!r)return;let o=e||"tsconfig.json";if(!D&&r.exports)try{const[s]=YD(r.exports,e,["require","types"]);o=s}catch{return!1}else!e&&r.tsconfig&&(o=r.tsconfig);return o=m.join(u,"..",o),t?.set(n,o),o},"resolveFromPackageJsonPath"),Tu="package.json",Su="tsconfig.json",tn=p((u,e,D)=>{let t=u;if(u===".."&&(t=m.join(t,Su)),u[0]==="."&&(t=m.resolve(e,t)),m.isAbsolute(t)){if(T(D,t)){if(nu(D,t).isFile())return t}else if(!t.endsWith(".json")){const E=`${t}.json`;if(T(D,E))return E}return}const[n,...r]=u.split("/"),o=n[0]==="@"?`${n}/${r.shift()}`:n,s=r.join("/"),i=en();if(i){const{resolveRequest:E}=i;try{if(o===u){const C=E(m.join(o,Tu),e);if(C){const h=Ou(C,s,!1,D);if(h&&T(D,h))return h}}else{let C;try{C=E(u,e,{extensions:[".json"]})}catch{C=E(m.join(u,Su),e)}if(C)return C}}catch{}}const l=me(m.resolve(e),m.join("node_modules",o),D);if(!l||!nu(D,l).isDirectory())return;const c=m.join(l,Tu);if(T(D,c)){const E=Ou(c,s,!1,D);if(E===!1)return;if(E&&T(D,E)&&nu(D,E).isFile())return E}const f=m.join(l,s),F=f.endsWith(".json");if(!F){const E=`${f}.json`;if(T(D,E))return E}if(T(D,f)){if(nu(D,f).isDirectory()){const E=m.join(f,Tu);if(T(D,E)){const h=Ou(E,"",!0,D);if(h&&T(D,h))return h}const C=m.join(f,Su);if(T(D,C))return C}else if(F)return f}},"resolveExtendsPath"),Pu=p((u,e)=>ku(m.relative(u,e)),"pathRelative"),xe=["files","include","exclude"],Dn=p((u,e,D,t)=>{const n=tn(u,e,t);if(!n)throw new Error(`File '${u}' not found.`);if(D.has(n))throw new Error(`Circularity detected while resolving configuration: ${n}`);D.add(n);const r=m.dirname(n),o=ke(n,t,D);delete o.references;const{compilerOptions:s}=o;if(s){const{baseUrl:i}=s;i&&!i.startsWith(I)&&(s.baseUrl=j(m.relative(e,m.join(r,i)))||"./");let{outDir:l}=s;l&&(l.startsWith(I)||(l=m.relative(e,m.join(r,l))),s.outDir=j(l)||"./")}for(const i of xe){const l=o[i];l&&(o[i]=l.map(c=>c.startsWith(I)?c:j(m.relative(e,m.join(r,c)))))}return o},"resolveExtends"),nn=["outDir","declarationDir"],ke=p((u,e,D=new Set)=>{let t;try{t=$e(u,e)||{}}catch{throw new Error(`Cannot resolve tsconfig at path: ${u}`)}if(typeof t!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${u}`);const n=m.dirname(u);if(t.compilerOptions){const{compilerOptions:r}=t;r.paths&&!r.baseUrl&&(r[ju]=n)}if(t.extends){const r=Array.isArray(t.extends)?t.extends:[t.extends];delete t.extends;for(const o of r.reverse()){const s=Dn(o,n,new Set(D),e),i={...s,...t,compilerOptions:{...s.compilerOptions,...t.compilerOptions}};s.watchOptions&&(i.watchOptions={...s.watchOptions,...t.watchOptions}),t=i}}if(t.compilerOptions){const{compilerOptions:r}=t,o=["baseUrl","rootDir"];for(const s of o){const i=r[s];if(i&&!i.startsWith(I)){const l=m.resolve(n,i),c=Pu(n,l);r[s]=c}}for(const s of nn){let i=r[s];i&&(Array.isArray(t.exclude)||(t.exclude=[]),t.exclude.includes(i)||t.exclude.push(i),i.startsWith(I)||(i=ku(i)),r[s]=i)}}else t.compilerOptions={};if(t.include?(t.include=t.include.map(j),t.files&&delete t.files):t.files&&(t.files=t.files.map(r=>r.startsWith(I)?r:ku(r))),t.watchOptions){const{watchOptions:r}=t;r.excludeDirectories&&(r.excludeDirectories=r.excludeDirectories.map(o=>j(m.resolve(n,o))))}return t},"_parseTsconfig"),su=p((u,e)=>{if(u.startsWith(I))return j(m.join(e,u.slice(I.length)))},"interpolateConfigDir"),rn=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],on=p(u=>{if(u.strict){const e=["noImplicitAny","noImplicitThis","strictNullChecks","strictFunctionTypes","strictBindCallApply","strictPropertyInitialization","strictBuiltinIteratorReturn","alwaysStrict","useUnknownInCatchVariables"];for(const D of e)u[D]===void 0&&(u[D]=!0)}if(u.target){let e=u.target.toLowerCase();e==="es2015"&&(e="es6"),u.target=e,e==="esnext"&&(u.module!=null||(u.module="es6"),u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0)),(e==="es6"||e==="es2016"||e==="es2017"||e==="es2018"||e==="es2019"||e==="es2020"||e==="es2021"||e==="es2022"||e==="es2023"||e==="es2024")&&(u.module!=null||(u.module="es6")),(e==="es2022"||e==="es2023"||e==="es2024")&&(u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0))}if(u.module){let e=u.module.toLowerCase();e==="es2015"&&(e="es6"),u.module=e,(e==="es6"||e==="es2020"||e==="es2022"||e==="esnext"||e==="none"||e==="system"||e==="umd"||e==="amd")&&(u.moduleResolution!=null||(u.moduleResolution="classic")),e==="system"&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),(e==="node16"||e==="nodenext"||e==="preserve")&&(u.esModuleInterop!=null||(u.esModuleInterop=!0),u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),(e==="node16"||e==="nodenext")&&(u.moduleDetection!=null||(u.moduleDetection="force"),u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0)),e==="node16"&&(u.target!=null||(u.target="es2022"),u.moduleResolution!=null||(u.moduleResolution="node16")),e==="nodenext"&&(u.target!=null||(u.target="esnext"),u.moduleResolution!=null||(u.moduleResolution="nodenext")),e==="preserve"&&(u.moduleResolution!=null||(u.moduleResolution="bundler"))}if(u.moduleResolution){let e=u.moduleResolution.toLowerCase();e==="node"&&(e="node10"),u.moduleResolution=e,(e==="node16"||e==="nodenext"||e==="bundler")&&(u.resolvePackageJsonExports!=null||(u.resolvePackageJsonExports=!0),u.resolvePackageJsonImports!=null||(u.resolvePackageJsonImports=!0)),e==="bundler"&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0),u.resolveJsonModule!=null||(u.resolveJsonModule=!0))}u.esModuleInterop&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),u.verbatimModuleSyntax&&(u.isolatedModules!=null||(u.isolatedModules=!0),u.preserveConstEnums!=null||(u.preserveConstEnums=!0)),u.isolatedModules&&(u.preserveConstEnums!=null||(u.preserveConstEnums=!0))},"normalizeCompilerOptions"),je=p((u,e=new Map)=>{const D=m.resolve(u),t=ke(D,e),n=m.dirname(D),{compilerOptions:r}=t;if(r){for(const s of rn){const i=r[s];if(i){const l=su(i,n);r[s]=l?Pu(n,l):i}}for(const s of["rootDirs","typeRoots"]){const i=r[s];i&&(r[s]=i.map(l=>{const c=su(l,n);return c?Pu(n,c):l}))}const{paths:o}=r;if(o)for(const s of Object.keys(o))o[s]=o[s].map(i=>{var l;return(l=su(i,n))!=null?l:i});on(r)}for(const o of xe){const s=t[o];s&&(t[o]=s.map(i=>{var l;return(l=su(i,n))!=null?l:i}))}return t},"parseTsconfig"),sn=p((u=process.cwd(),e="tsconfig.json",D=new Map)=>{const t=me(j(u),e,D);if(!t)return null;const n=je(t,D);return{path:t,config:n}},"getTsconfig"),an=/\*/g,Oe=p((u,e)=>{const D=u.match(an);if(D&&D.length>1)throw new Error(e)},"assertStarCount"),ln=p(u=>{if(u.includes("*")){const[e,D]=u.split("*");return{prefix:e,suffix:D}}return u},"parsePattern"),cn=p(({prefix:u,suffix:e},D)=>D.startsWith(u)&&D.endsWith(e),"isPatternMatch"),fn=p((u,e,D)=>Object.entries(u).map(([t,n])=>(Oe(t,`Pattern '${t}' can have at most one '*' character.`),{pattern:ln(t),substitutions:n.map(r=>{if(Oe(r,`Substitution '${r}' in pattern '${t}' can have at most one '*' character.`),!e&&!xu.test(r))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return m.resolve(D,r)})})),"parsePaths"),Fn=p(u=>{const{compilerOptions:e}=u.config;if(!e)return null;const{baseUrl:D,paths:t}=e;if(!D&&!t)return null;const n=ju in e&&e[ju],r=m.resolve(m.dirname(u.path),D||n||"."),o=t?fn(t,D,r):[];return s=>{if(xu.test(s))return[];const i=[];for(const F of o){if(F.pattern===s)return F.substitutions.map(j);typeof F.pattern!="string"&&i.push(F)}let l,c=-1;for(const F of i)cn(F.pattern,s)&&F.pattern.prefix.length>c&&(c=F.pattern.prefix.length,l=F);if(!l)return D?[j(m.join(r,s))]:[];const f=s.slice(l.pattern.prefix.length,s.length-l.pattern.suffix.length);return l.substitutions.map(F=>j(F.replace("*",f)))}},"createPathsMatcher"),Te=p(u=>{let e="";for(let D=0;D<u.length;D+=1){const t=u[D],n=t.toUpperCase();e+=t===n?t.toLowerCase():n}return e},"s"),pn=65,Cn=97,dn=p(()=>Math.floor(Math.random()*26),"m"),En=p(u=>Array.from({length:u},()=>String.fromCodePoint(dn()+(Math.random()>.5?pn:Cn))).join(""),"S"),hn=p((u=tt)=>{const e=process.execPath;if(u.existsSync(e))return!u.existsSync(Te(e));const D=`/${En(10)}`;u.writeFileSync(D,"");const t=!u.existsSync(Te(D));return u.unlinkSync(D),t},"l"),{join:iu}=m.posix,_u={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},mn=p(u=>{const e=[..._u.ts],D=[..._u.cts],t=[..._u.mts];return u!=null&&u.allowJs&&(e.push(".js",".jsx"),D.push(".cjs"),t.push(".mjs")),[...e,...D,...t]},"getSupportedExtensions"),gn=p(u=>{const e=[];if(!u)return e;const{outDir:D,declarationDir:t}=u;return D&&e.push(D),t&&e.push(t),e},"getDefaultExcludeSpec"),Se=p(u=>u.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),Bn=["node_modules","bower_components","jspm_packages"],Nu=`(?!(${Bn.join("|")})(/|$))`,yn=/(?:^|\/)[^.*?]+$/,Pe="**/*",au="[^/]",Iu="[^./]",_e=process.platform==="win32";p(({config:u,path:e},D=hn())=>{if("extends"in u)throw new Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!m.isAbsolute(e))throw new Error("The tsconfig path must be absolute");_e&&(e=j(e));const t=m.dirname(e),{files:n,include:r,exclude:o,compilerOptions:s}=u,i=n?.map(C=>iu(t,C)),l=mn(s),c=D?"":"i",f=(o||gn(s)).map(C=>{const h=iu(t,C),b=Se(h).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${au}*`).replaceAll(String.raw`\?`,au);return new RegExp(`^${b}($|/)`,c)}),F=n||r?r:[Pe],E=F?F.map(C=>{let h=iu(t,C);yn.test(h)&&(h=iu(h,Pe));const b=Se(h).replaceAll(String.raw`/\*\*`,`(/${Nu}${Iu}${au}*)*?`).replaceAll(/(\/)?\\\*/g,(O,A)=>{const d=`(${Iu}|(\\.(?!min\\.js$))?)*`;return A?`/${Nu}${Iu}${d}`:d}).replaceAll(/(\/)?\\\?/g,(O,A)=>{const d=au;return A?`/${Nu}${d}`:d});return new RegExp(`^${b}$`,c)}):void 0;return C=>{if(!m.isAbsolute(C))throw new Error("filePath must be absolute");if(_e&&(C=j(C)),i!=null&&i.includes(C)||!(!l.some(h=>C.endsWith(h))||f.some(h=>h.test(C)))&&E&&E.some(h=>h.test(C)))return u}},"createFilesMatcher");const Ne="resolve-tsconfig-paths",An=a(u=>u[0]===".","isRelative"),bn=a(u=>u[0]==="/"||/^[\s\S]:/.test(u),"isAbsolute"),Ie=a(u=>{const e=Fn(u);return e?{name:Ne,async resolveId(D,t,n){if(!t||An(D)||bn(D)||D.startsWith("\0"))return null;const r=e(D);for(const o of r){const s=await this.resolve(o,t,{skipSelf:!0,...n});if(s)return s}return null}}:{name:Ne}},"resolveTsconfigPaths"),Re=/^#!.*/,wn=a(()=>({name:"strip-hashbang",transform:a(u=>{if(!Re.test(u))return null;const e=new cu(u);return e.replace(Re,""),{code:e.toString(),map:e.generateMap({hires:!0})}},"transform")}),"stripHashbang");class vn{static{a(this,"WalkerBase")}constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:a(()=>this.should_skip=!0,"skip"),remove:a(()=>this.should_remove=!0,"remove"),replace:a(e=>this.replacement=e,"replace")}}replace(e,D,t,n){e&&D&&(t!=null?e[D][t]=n:e[D]=n)}remove(e,D,t){e&&D&&(t!=null?e[D].splice(t,1):delete e[D])}}class $n extends vn{static{a(this,"SyncWalker")}constructor(e,D){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:a(()=>this.should_skip=!0,"skip"),remove:a(()=>this.should_remove=!0,"remove"),replace:a(t=>this.replacement=t,"replace")},this.enter=e,this.leave=D}visit(e,D,t,n){if(e){if(this.enter){const o=this.should_skip,s=this.should_remove,i=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,D,t,n),this.replacement&&(e=this.replacement,this.replace(D,t,n,e)),this.should_remove&&this.remove(D,t,n);const l=this.should_skip,c=this.should_remove;if(this.should_skip=o,this.should_remove=s,this.replacement=i,l)return e;if(c)return null}let r;for(r in e){const o=e[r];if(o&&typeof o=="object")if(Array.isArray(o)){const s=o;for(let i=0;i<s.length;i+=1){const l=s[i];Le(l)&&(this.visit(l,e,r,i)||i--)}}else Le(o)&&this.visit(o,e,r,null)}if(this.leave){const o=this.replacement,s=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,D,t,n),this.replacement&&(e=this.replacement,this.replace(D,t,n,e)),this.should_remove&&this.remove(D,t,n);const i=this.should_remove;if(this.replacement=o,this.should_remove=s,i)return null}}return e}}function Le(u){return u!==null&&typeof u=="object"&&"type"in u&&typeof u.type=="string"}a(Le,"isNode");function xn(u,{enter:e,leave:D}){return new $n(e,D).visit(u,null)}a(xn,"walk");const kn=a(()=>{const u='import{createRequire as _pkgrollCR}from"node:module";const require=_pkgrollCR(import.meta.url);';return{name:"esmInjectCreateRequire",renderChunk(e,D,t){if(t.format!=="es"||!/\brequire\b/.test(e))return null;const n=this.parse(e);let r=Dt(n,"scope"),o=!1;if(xn(n,{enter(i,l){i.scope&&(r=i.scope),!(i.type!=="Identifier"||i.name!=="require")&&(l?.type==="Property"&&l.key===i&&!l.compute||r.contains("require")||(o=!0,this.skip()))},leave:a(i=>{i.scope&&(r=r.parent)},"leave")}),!o)return null;const s=new cu(e);return s.prepend(u),{code:s.toString(),map:s.generateMap({hires:!0})}}}},"esmInjectCreateRequire"),jn=a((u,e,D,t)=>{const n=Object.fromEntries(u.env.map(({key:o,value:s})=>[`process.env.${o}`,JSON.stringify(s)])),r={target:u.target,tsconfigRaw:t?.config,define:n};return{input:{},preserveEntrySignatures:"strict",plugins:[pe(u),...t?[Ie(t)]:[],Ce(),Ye({entries:e}),Ke({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:u.exportCondition}),wn(),Ze(),LD(r),He({ignoreDynamicRequires:!0,extensions:[".js",".ts",".jsx",".tsx"],transformMixedEsModules:!0}),Qe({warnOnError:!0}),kn(),...u.minify?[WD(r)]:[],UD(D)],output:[],external:[]}},"getPkgConfig"),On=a(async(u,e)=>{const[D,t]=await Promise.all([import("./rollup-plugin-dts-DuaETUxB.mjs"),import("./local-typescript-loader-CSvrvK-x.mjs")]);return{input:{},preserveEntrySignatures:"strict",plugins:[pe(u),...e?[Ie(e)]:[],Ce(),D.default({respectExternal:!1,compilerOptions:{composite:!1,preserveSymlinks:!1,module:t.default.ModuleKind.Preserve,moduleResolution:t.default.ModuleResolutionKind.Bundler},tsconfig:e?.path})],output:[],external:[]}},"getDtsConfig"),Tn=a(u=>{if(u.length===0)return"";const e=u.map(r=>r.split("/")),D=e[0],t=Math.min(...e.map(r=>r.length)),n=[];for(let r=0;r<t;r+=1){const o=D[r];if(e.every(s=>s[r]===o))n.push(o);else break}return n.length===0?"/":n.join("/")||"/"},"getCommonPath"),Sn=a(async(u,e,D,t,n,r)=>{const o=$(Tn(u.map(({dist:i})=>i)),!0);for(const i of u)i.distPrefix=i.dist.slice(o.length);const s=Object.create(null);for(const i of e){const{sourcePath:l,srcdist:c,srcExtension:f,distExtension:F,exportEntry:E}=i,C=c.distPrefix+l.slice(c.srcResolved.length,-f.length);if(i.inputNames=[C],E.format==="types"){let A=s.dts;A||(A=await On(D,r),A.external=Fe(n,t,!0),s.dts=A),A.input[C]||(A.input[C]=l);const d=A.output,B=`${c.distPrefix}-${F}`;if(d[B])d[B][K].inputNames.push(C);else{const g={dir:o,entryFileNames:`[name]${F}`,chunkFileNames:`${c.distPrefix}[name]-[hash]${F}`,exports:"auto",format:"esm",[K]:i};d.push(g),d[B]=g}continue}let h=s.pkg;h||(h=jn(D,t,e,r),h.external=Fe(n,t),s.pkg=h),h.input[C]||(h.input[C]=l);const b=h.output,O=`${E.format}-${c.distPrefix}-${F}`;if(b[O])b[O][K].inputNames.push(C);else{const A={dir:o,exports:"auto",format:E.format,sourcemap:D.sourcemap,entryFileNames:`[name]${F}`,chunkFileNames:`${c.distPrefix}[name]-[hash]${F}`,[K]:i};b.push(A),b[O]=A}}return Object.values(s)},"getRollupConfigs"),Pn=a(u=>{if(!u)return sn();const e=m.resolve(u),D=je(e);return{path:e,config:D}},"getTsconfig"),_n=a(async u=>{await mu(u)&&await N.promises.rm(u,{recursive:!0,force:!0})},"cleanDist"),{stringify:Me}=JSON,S=yD({name:"pkgroll",version:AD,flags:{input:{type:[jD],alias:"i",description:"Dist paths for source files to bundle (Only use if you cannot use package.json entries)"},src:{type:String,description:"Source directory (Deprecated, use `srcdist` instead)",default:"./src"},dist:{type:String,description:"Distribution directory (Deprecated, use `srcdist` instead)",default:"./dist"},srcdist:{type:[String],description:"Source and distribution folder pairs (eg. default `src:dist`)"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},tsconfig:{type:String,description:"Custom tsconfig.json file path",alias:"p"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[u=>{const[e,D]=u.split("=",2);return{key:e,value:D}}],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"},sourcemap:{type:a(u=>{if(u==="")return!0;if(u==="inline")return u;throw new Error(`Invalid sourcemap option ${Me(u)}`)},"type"),description:"Sourcemap generation. Provide `inline` option for inline sourcemap (eg. --sourcemap, --sourcemap=inline)"},cleanDist:{type:Boolean,description:"Clean dist before bundling",default:!1}},help:{description:"Minimalistic package bundler",render:a((u,e)=>(e.flagOperator=D=>D.name==="env"?".key=":" ",e.render(u)),"render")}}),We=process.cwd(),Z=[];if(S.flags.srcdist.length>0)for(const u of S.flags.srcdist){const[e,D]=u.split(":",2);if(!e||!D)throw new Error(`Invalid src:dist pair ${Me(u)}. Expected format: src:dist`);Z.push({src:$(e,!0),srcResolved:$(N.realpathSync.native(e),!0),dist:$(D,!0)})}else Z.push({src:$(S.flags.src,!0),srcResolved:$(N.realpathSync.native(S.flags.src),!0),dist:$(S.flags.dist,!0)});const Ue=Pn(S.flags.tsconfig),Ve=Ue?.config.compilerOptions?.target;Ve&&S.flags.target.push(Ve),(async()=>{const{packageJson:u}=await kD(We),e=await ID(Z,u,S.flags.input);for(const n of e)"error"in n&&console.warn("Warning:",n.error);const D=e.filter(n=>!("error"in n));if(D.length===0)throw new Error("No entry points found");const t=await Sn(Z,D,S.flags,OD(u,We),u,Ue);S.flags.cleanDist&&await Promise.all(Z.map(({dist:n})=>_n(n))),S.flags.watch?(Du("Watch initialized"),t.map(async n=>{Je(n).on("event",async o=>{if(o.code==="BUNDLE_START"){const s=Array.isArray(o.input)?o.input:Object.values(o.input);Du("Building",...s.map(gu))}if(o.code==="BUNDLE_END"){await Promise.all(n.output.map(i=>o.result.write(i)));const s=Array.isArray(o.input)?o.input:Object.values(o.input);Du("Built",...s.map(gu))}o.code==="ERROR"&&Du("Error:",o.error.message)})})):await Promise.all(t.map(async n=>{const r=await Ge(n);return Promise.all(n.output.map(o=>{const s=o[K].inputNames;return o.plugins=[{name:"filter-unnecessary-outputs",generateBundle:a((i,l)=>{for(const c in l){if(!Object.hasOwn(l,c))continue;const f=l[c];"isEntry"in f&&f.isEntry&&!s.includes(f.name)&&delete l[c]}},"generateBundle")}],r.write(o)}))}))})().catch(u=>{console.error(u),process.exit(1)});
